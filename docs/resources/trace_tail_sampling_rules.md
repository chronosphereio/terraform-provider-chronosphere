---
page_title: "chronosphere_trace_tail_sampling_rules Resource - chronosphere"
subcategory: ""
description: |-
  Manages a Chronosphere Trace Tail Sampling Rules.
---

# chronosphere_trace_tail_sampling_rules (Resource)

Manages a Chronosphere Trace Tail Sampling Rules.

## Example Usage

```terraform
resource "chronosphere_trace_tail_sampling_rules" "production_sampling" {
  default_sample_rate {
    enabled     = true
    sample_rate = 0.1
  }

  rules {
    name        = "Sample All Errors"
    system_name = "sample_all_errors"
    sample_rate = 1.0

    filter {
      trace {
        error {
          value = true
        }
      }
    }
  }

  rules {
    name        = "Sample Slow Requests"
    system_name = "sample_slow_requests"
    sample_rate = 0.5

    filter {
      span {
        match_type = "INCLUDE"
        service {
          match = "EXACT"
          value = "api"
        }
        duration {
          min_secs = 5
        }
      }
    }
  }

  rules {
    name        = "Sample Specific Operations"
    system_name = "sample_specific_operations"
    sample_rate = 0.25

    filter {
      span {
        match_type = "INCLUDE"
        operation {
          match = "REGEX"
          value = "checkout.*"
        }
        tag {
          key = "http.status_code"
          numeric_value {
            comparison = "GREATER_THAN_OR_EQUAL"
            value      = 500
          }
        }
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `default_sample_rate` (Block List, Max: 1) (see [below for nested schema](#nestedblock--default_sample_rate))
- `rules` (Block List) (see [below for nested schema](#nestedblock--rules))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--default_sample_rate"></a>
### Nested Schema for `default_sample_rate`

Required:

- `sample_rate` (Number)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--rules"></a>
### Nested Schema for `rules`

Required:

- `filter` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--rules--filter))
- `sample_rate` (Number)

Optional:

- `name` (String)
- `system_name` (String)

<a id="nestedblock--rules--filter"></a>
### Nested Schema for `rules.filter`

Optional:

- `span` (Block List) (see [below for nested schema](#nestedblock--rules--filter--span))
- `trace` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--trace))

<a id="nestedblock--rules--filter--span"></a>
### Nested Schema for `rules.filter.span`

Optional:

- `duration` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--duration))
- `error` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--error))
- `is_root_span` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--is_root_span))
- `match_type` (String)
- `operation` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--operation))
- `parent_operation` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--parent_operation))
- `parent_service` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--parent_service))
- `service` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--service))
- `span_count` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--span_count))
- `tag` (Block List) (see [below for nested schema](#nestedblock--rules--filter--span--tag))

<a id="nestedblock--rules--filter--span--duration"></a>
### Nested Schema for `rules.filter.span.duration`

Optional:

- `max_secs` (Number)
- `min_secs` (Number)


<a id="nestedblock--rules--filter--span--error"></a>
### Nested Schema for `rules.filter.span.error`

Required:

- `value` (Boolean)


<a id="nestedblock--rules--filter--span--is_root_span"></a>
### Nested Schema for `rules.filter.span.is_root_span`

Required:

- `value` (Boolean)


<a id="nestedblock--rules--filter--span--operation"></a>
### Nested Schema for `rules.filter.span.operation`

Optional:

- `in_values` (List of String)
- `match` (String)
- `value` (String)


<a id="nestedblock--rules--filter--span--parent_operation"></a>
### Nested Schema for `rules.filter.span.parent_operation`

Optional:

- `in_values` (List of String)
- `match` (String)
- `value` (String)


<a id="nestedblock--rules--filter--span--parent_service"></a>
### Nested Schema for `rules.filter.span.parent_service`

Optional:

- `in_values` (List of String)
- `match` (String)
- `value` (String)


<a id="nestedblock--rules--filter--span--service"></a>
### Nested Schema for `rules.filter.span.service`

Optional:

- `in_values` (List of String)
- `match` (String)
- `value` (String)


<a id="nestedblock--rules--filter--span--span_count"></a>
### Nested Schema for `rules.filter.span.span_count`

Optional:

- `max` (Number)
- `min` (Number)


<a id="nestedblock--rules--filter--span--tag"></a>
### Nested Schema for `rules.filter.span.tag`

Optional:

- `key` (String)
- `numeric_value` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--tag--numeric_value))
- `value` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--span--tag--value))

<a id="nestedblock--rules--filter--span--tag--numeric_value"></a>
### Nested Schema for `rules.filter.span.tag.numeric_value`

Required:

- `comparison` (String)
- `value` (Number)


<a id="nestedblock--rules--filter--span--tag--value"></a>
### Nested Schema for `rules.filter.span.tag.value`

Optional:

- `in_values` (List of String)
- `match` (String)
- `value` (String)




<a id="nestedblock--rules--filter--trace"></a>
### Nested Schema for `rules.filter.trace`

Optional:

- `duration` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--trace--duration))
- `error` (Block List, Max: 1) (see [below for nested schema](#nestedblock--rules--filter--trace--error))

<a id="nestedblock--rules--filter--trace--duration"></a>
### Nested Schema for `rules.filter.trace.duration`

Optional:

- `max_secs` (Number)
- `min_secs` (Number)


<a id="nestedblock--rules--filter--trace--error"></a>
### Nested Schema for `rules.filter.trace.error`

Required:

- `value` (Boolean)

## Import

Import is supported using the following syntax:

```shell
# Replace 'example-id' with the actual resource ID
terraform import chronosphere_trace_tail_sampling_rules.example example-id
```
